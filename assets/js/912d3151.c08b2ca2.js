"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5767],{7223:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>n,metadata:()=>o,toc:()=>d});var s=t(5893),r=t(1151);const n={title:"EUplus RLH",description:"European Red List of habitats",tags:["IUCN RLE","RLE spatial data","wget","R","sf"]},i=void 0,o={id:"ecosystems-status/regional/EU-RLH",title:"EUplus RLH",description:"European Red List of habitats",source:"@site/docs/ecosystems-status/regional/EU-RLH.md",sourceDirName:"ecosystems-status/regional",slug:"/ecosystems-status/regional/EU-RLH",permalink:"/cesdata/docs/ecosystems-status/regional/EU-RLH",draft:!1,unlisted:!1,tags:[{label:"IUCN RLE",permalink:"/cesdata/docs/tags/iucn-rle"},{label:"RLE spatial data",permalink:"/cesdata/docs/tags/rle-spatial-data"},{label:"wget",permalink:"/cesdata/docs/tags/wget"},{label:"R",permalink:"/cesdata/docs/tags/r"},{label:"sf",permalink:"/cesdata/docs/tags/sf"}],version:"current",frontMatter:{title:"EUplus RLH",description:"European Red List of habitats",tags:["IUCN RLE","RLE spatial data","wget","R","sf"]},sidebar:"tutorialSidebar",previous:{title:"Colombia",permalink:"/cesdata/docs/ecosystems-status/regional/Colombia-Terr-Eco-2015"},next:{title:"Madagascar RLE",permalink:"/cesdata/docs/ecosystems-status/regional/Madagascar-RLE"}},l={},d=[{value:"Citation",id:"citation",level:2},{value:"Links",id:"links",level:2},{value:"Data access and download",id:"data-access-and-download",level:2},{value:"Data preparation",id:"data-preparation",level:2},{value:"Terrestrial",id:"terrestrial",level:3},{value:"With R",id:"with-r",level:3}];function c(e){const a={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.p,{children:["The European Red List of habitats project reports are available at European Commission web site: ",(0,s.jsx)(a.a,{href:"http://ec.europa.eu/environment/nature/knowledge/redlist_en.htm",children:"http://ec.europa.eu/environment/nature/knowledge/redlist_en.htm"})]}),"\n",(0,s.jsxs)(a.p,{children:["Navigate through the factsheets using the webapp at: ",(0,s.jsx)(a.a,{href:"https://eunis.eea.europa.eu/habitats-code-browser-redlist.jsp",children:"https://eunis.eea.europa.eu/habitats-code-browser-redlist.jsp"})]}),"\n",(0,s.jsx)(a.h2,{id:"citation",children:"Citation"}),"\n",(0,s.jsxs)(a.blockquote,{children:["\n",(0,s.jsxs)(a.p,{children:["Gubbay, et al. (2016). European Red List of Habitats. Part 1: Marine habitats. European Commission, Brussels. DOI: ",(0,s.jsx)(a.a,{href:"https://doi.org/10.2779/032638",children:"10.2779/032638"})]}),"\n"]}),"\n",(0,s.jsxs)(a.blockquote,{children:["\n",(0,s.jsxs)(a.p,{children:["Janssen, et al. (2016). European Red List of Habitats. Part 2: Terrestrial and\nfreshwater habitats. European Commission, Brussels. DOI: ",(0,s.jsx)(a.a,{href:"https://doi.org/10.2779/091372",children:"10.2779/091372"})]}),"\n"]}),"\n",(0,s.jsx)(a.h2,{id:"links",children:"Links"}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:(0,s.jsx)(a.a,{href:"https://forum.eionet.europa.eu/european-red-list-habitats/library",children:"Project Library"})}),"\n",(0,s.jsx)(a.li,{children:(0,s.jsx)(a.a,{href:"https://forum.eionet.europa.eu/european-red-list-habitats/library/project-deliverables-data",children:"Data deliverables"})}),"\n"]}),"\n",(0,s.jsx)(a.h2,{id:"data-access-and-download",children:"Data access and download"}),"\n",(0,s.jsx)(a.p,{children:"The original data for the EU Red List of Habitats is public access but not necessarily user-friendly."}),"\n",(0,s.jsx)(a.p,{children:"Start navigating this link for an overview of the project and follow the link to the deliverables. Read the Final report (PDF) in that folder."}),"\n",(0,s.jsxs)(a.p,{children:["It is possible to download the whole folder as a zip file, for example using ",(0,s.jsx)(a.code,{children:"wget"})," in the commandline:"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sh",children:"source ~/proyectos/CES/cesdata/env/project-env.sh\nmkdir -p $GISDATA/ecosystems-status/regional/EU-RLH\ncd $GISDATA/ecosystems-status/regional/EU-RLH\n\nwget --continue https://forum.eionet.europa.eu/european-red-list-habitats/library/project-deliverables-data/geodatabases/zip_export/do_export --output-document=geodatabases.zip\n\nwget --continue https://forum.eionet.europa.eu/european-red-list-habitats/library/project-deliverables-data/database/zip_export/do_export --output-document=database.zip\n\n"})}),"\n",(0,s.jsx)(a.h2,{id:"data-preparation",children:"Data preparation"}),"\n",(0,s.jsx)(a.p,{children:"Unzip and change permission"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-sh",children:"unzip -u geodatabases.zip -d $WORKDIR\n# for some obscure reason this is read-protected\nchmod 740 $WORKDIR/Geodatabases/*\nchmod 640 $WORKDIR/Geodatabases/*/*.*\n"})}),"\n",(0,s.jsx)(a.h3,{id:"terrestrial",children:"Terrestrial"}),"\n",(0,s.jsx)(a.p,{children:'For the terrestrial and freshwater habitats locate the folder called "Terrestrial Geodatabase" under the Geodatabases folder.'}),"\n",(0,s.jsx)(a.p,{children:"The shapefile contains the distribution of each habitat type mapped into a regular grid (10x10km), so there are hundreds of squares per habitat type, and they overlap with the other types. So to see the individual types you have to filter the data in a GIS program."}),"\n",(0,s.jsx)(a.p,{children:'The shapefile only has the distribution data, to get the status (red list categories) and other data per habitat you will need to open the access database (folder "Database").'}),"\n",(0,s.jsx)(a.p,{children:"Combining the spatial data with the information in the access database requires a bit of programming, in my case I exported the access database table to a csv file and then used R to combine it with the shapefile table."}),"\n",(0,s.jsx)(a.h3,{id:"with-r",children:"With R"}),"\n",(0,s.jsx)(a.p,{children:"Read data in R"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-r",children:'require(sf)\nrequire(dplyr)\nlibrary(readr)\nlibrary(units)\nlibrary(stringr)\nhere::i_am("inc/R/read-Macaronesia-data.R")\n\nEEZ <- read_sf(here::here("Data","EEZ_land_union_v3_202003", "EEZ_Land_v3_202030.shp"))\n\n### EU assessments\nEURLH.mar <- read_sf(\n  here::here("Data", "EURLH", "Geodatabases", \n             "North\\ East\\ Atlantic\\ Sea\\ geodatabase\\ v03/"), \n  \'NEA geodatabase\')\n\nEURLH.ter <- read_sf(\n  here::here("Data", "EURLH", "Geodatabases", "Terrestrial\\ geodatabase"), \n  \'RDB_Final_Maps_Terrestrial\')\n\nRLH <- read_csv(here::here("Data", "EURLH","EURLH.csv"))\n\n#### cut the European Union RLH data for the Macaronesian islands\nEEZ.EU <- EEZ %>% \n  filter(grepl("Canary Islands|Madeira",UNAME)) %>% \n  st_transform(crs=st_crs(EURLH.mar))\nEURLH.mar.qry <- EURLH.mar %>% st_intersection(EEZ.EU) %>% st_drop_geometry()\nEURLH.ter.qry <- EURLH.ter %>% st_intersection(EEZ.EU) %>% st_drop_geometry()\n\ncell_area <- EURLH.mar %>% st_area %>% mean %>% set_units(\'km2\')\n\nRLH_results <- RLH %>% select("Habitat Group":"Habitat Type Name",\n               "Overall Category EU28") %>% \n  mutate(code=str_replace(`Habitat Type Name`,"<p>","") %>% \n           str_extract("[A-Z0-9a-z\\\\.]+")) %>% \n  filter(`Habitat Subgroup` %in% c("North East Atlantic",NA)) %>%\n  select(code,`Overall Category EU28`)\n\n EURLH.ter %>% filter(TYPE_NAME %in% "Permanent lake of glaciers and ice sheets") %>% st_geometry() %>% st_union()\n\n'})}),"\n",(0,s.jsx)(a.p,{children:"Emily asked to double check some territories included in the EU assessment"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-r",children:'## \n\nrequire(sf)\nrequire(dplyr)\n\nNEA <- read_sf("Data/EURLH/Geodatabases/North East Atlantic Sea geodatabase v03/NEA geodatabase.shp")\nTerr_eco <- read_sf("Data/EURLH/Geodatabases/Terrestrial geodatabase/RDB_Final_Maps_Terrestrial.shp")\nWB <- read_sf("Data/WB_Boundaries_GeoJSON_lowres/WB_countries_Admin0_lowres.geojson")\n\nWB %>% \n  filter(grepl("Guern",FORMAL_EN)) %>% \n  st_transform(st_crs(Terr_eco)) %>% \n  st_geometry %>% \n  plot\n\nplot(st_geometry(Terr_eco), add=T)\n\nWB %>% \n  filter(grepl("Portu",FORMAL_EN)) %>% \n  st_transform(st_crs(Terr_eco)) %>% \n  st_geometry %>% \n  plot\nplot(st_geometry(Terr_eco), add=T)\n'})})]})}function h(e={}){const{wrapper:a}={...(0,r.a)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},1151:(e,a,t)=>{t.d(a,{Z:()=>o,a:()=>i});var s=t(7294);const r={},n=s.createContext(r);function i(e){const a=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function o(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(n.Provider,{value:a},e.children)}}}]);