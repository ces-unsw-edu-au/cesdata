"use strict";(self.webpackChunkdocusite=self.webpackChunkdocusite||[]).push([[3687],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var i=a.createContext({}),p=function(e){var t=a.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},u=function(e){var t=p(e.components);return a.createElement(i.Provider,{value:t},e.children)},d="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,i=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=p(n),c=o,h=d["".concat(i,".").concat(c)]||d[c]||m[c]||r;return n?a.createElement(h,s(s({ref:t},u),{},{components:n})):a.createElement(h,s({ref:t},u))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,s=new Array(r);s[0]=c;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l[d]="string"==typeof e?e:o,s[1]=l;for(var p=2;p<r;p++)s[p]=n[p];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},4613:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>s,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>i});var a=n(7462),o=(n(7294),n(3905));const r={title:"How to set up this site"},s="We built this site with Rock'n'Roll",l={type:"mdx",permalink:"/how-to-site",source:"@site/src/pages/how-to-site.md",title:"How to set up this site",description:"Well, not quite but near enough...",frontMatter:{title:"How to set up this site"}},i=[{value:"Start your site",id:"start-your-site",level:2},{value:"My experience so far",id:"my-experience-so-far",level:2},{value:"build, serve and deply",id:"build-serve-and-deply",level:3},{value:"Using fontawesome",id:"using-fontawesome",level:3},{value:"Images",id:"images",level:3},{value:"Where to locate stuff",id:"where-to-locate-stuff",level:3}],p={toc:i},u="wrapper";function d(e){let{components:t,...n}=e;return(0,o.kt)(u,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"we-built-this-site-with-rocknroll"},"We built this site with Rock'n'Roll"),(0,o.kt)("p",null,"Well, not quite but near enough..."),(0,o.kt)("p",null,"We built this awesome documentation site using ",(0,o.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs"},"https://docusaurus.io/docs")),(0,o.kt)("p",null,"First we installed ",(0,o.kt)("a",{parentName:"p",href:"https://nodejs.org/en/download/"},"Node.js")," (recommended version 16.14 or above)."),(0,o.kt)("admonition",{title:"npx version",type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Make sure we deactivate conda to use the downloaded npx version:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"conda deactivate\nwhich npx\nnpx -v # This sites works with `9.5.1`.\n"))),(0,o.kt)("p",null,"Then we ",(0,o.kt)("em",{parentName:"p"},"npx")," docusaurus:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"npx create-docusaurus@latest $REPO_PATH/docusite classic\n")),(0,o.kt)("p",null,"You can type this command into Command Prompt, Powershell, Terminal, or any other integrated terminal of your code editor."),(0,o.kt)("p",null,"The command also installs all necessary dependencies you need to run Docusaurus."),(0,o.kt)("h2",{id:"start-your-site"},"Start your site"),(0,o.kt)("p",null,"Run the development server:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"cd $REPO_PATH/docusite\nnpx docusaurus start\n")),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"cd")," command changes the directory you're working with. In order to work with your newly created Docusaurus site, you'll need to navigate the terminal there."),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"npx docusaurus start")," (apparently you could use ",(0,o.kt)("inlineCode",{parentName:"p"},"npm run start")," also",(0,o.kt)("sup",{parentName:"p",id:"fnref-1"},(0,o.kt)("a",{parentName:"sup",href:"#fn-1",className:"footnote-ref"},"1")),") command builds your website locally and serves it through a development server, ready for you to view at http://localhost:3000/."),(0,o.kt)("p",null,"The I started with opening ",(0,o.kt)("inlineCode",{parentName:"p"},"docs/intro.md")," and editing some lines: the site ",(0,o.kt)("strong",{parentName:"p"},"reloads automatically")," and displays your changes. Feels like magic!"),(0,o.kt)("h2",{id:"my-experience-so-far"},"My experience so far"),(0,o.kt)("p",null,"From there I just trial-ed and error-ed enough to get most of what we needed, a lot of what we wanted and all that I could. "),(0,o.kt)("p",null,"I have done most of this using just markdown, because I just haven't got much time to properly learn react.js, but that's OK, you don't need React to write simple standalone pages.",(0,o.kt)("sup",{parentName:"p",id:"fnref-2"},(0,o.kt)("a",{parentName:"sup",href:"#fn-2",className:"footnote-ref"},"2"))),(0,o.kt)("p",null,"I am using the ",(0,o.kt)("strong",{parentName:"p"},"classic template")," because I just don't have time to explore and tweak templates and themes."),(0,o.kt)("h3",{id:"build-serve-and-deply"},"build, serve and deply"),(0,o.kt)("p",null,"Build a optimized static site:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"npx docusaurus build\n")),(0,o.kt)("p",null,"This will serve this site at ",(0,o.kt)("inlineCode",{parentName:"p"},"localhost:3000/cesdata")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"npx docusaurus serve\n")),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Should I use Github pages?")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/deployment#deploying-to-github-pages"},"Seems straightforward")," but it is tricky, currently  not working because of ",(0,o.kt)("inlineCode",{parentName:"p"},'Error: Running "git push" command failed. Does the GitHub user account you are using have push access to the repository?')),(0,o.kt)("p",null,"My steps:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"In GitHub: go to ",(0,o.kt)("inlineCode",{parentName:"p"},"Settings")," / ",(0,o.kt)("inlineCode",{parentName:"p"},"Pages"),", set Source to ",(0,o.kt)("em",{parentName:"p"},"Deploy from a branch")," and then the name of the branch.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"For some reason, this will serve the site at a random url, ",(0,o.kt)("inlineCode",{parentName:"p"},"https://curly-bassoon-6989k23.pages.github.io/")," ??")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Then, modify ",(0,o.kt)("inlineCode",{parentName:"p"},"docusaurus.config.js")," and add: ",(0,o.kt)("inlineCode",{parentName:"p"},"url"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"baseUrl"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"organizationName"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"projectName")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"deploymentBranch"),". Should I use that url here?")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Also there, set ",(0,o.kt)("inlineCode",{parentName:"p"},"trailingSlash")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"false"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Add an empty file named .nojekyll to the static directory.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"set up the environment variables: USE_SSH and GIT_USER"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"USE_SSH=TRUE && GIT_USER=jrfep && npx docusaurus deploy\n")),(0,o.kt)("h3",{id:"using-fontawesome"},"Using fontawesome"),(0,o.kt)("p",null,"I will need to read the docs..."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://docusaurus.community/knowledge/design/icons/fontawesome/"},"https://docusaurus.community/knowledge/design/icons/fontawesome/")),(0,o.kt)("h3",{id:"images"},"Images"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"undraw svgs shipped with docusaurus"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.svgrepo.com/svg/26855/sloth"},"https://www.svgrepo.com/svg/26855/sloth")," CC0 license"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.svgrepo.com/svg/2155/wombat"},"https://www.svgrepo.com/svg/2155/wombat")," CC0 license"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.svgrepo.com/svg/293158/maps-and-flags-global"},"https://www.svgrepo.com/svg/293158/maps-and-flags-global")," CCO license"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.svgrepo.com/svg/293157/maps-and-flags-maps-and-flags"},"https://www.svgrepo.com/svg/293157/maps-and-flags-maps-and-flags")," CCO license")),(0,o.kt)("h3",{id:"where-to-locate-stuff"},"Where to locate stuff"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"docusaurus.config.js")," file is the place for titles and bottom menus, logos and icons, and other configuration stuff. "),(0,o.kt)("p",null,"I haven't touch the sidebars.js, I just don't have time for that much customisation. ",(0,o.kt)("sup",{parentName:"p",id:"fnref-2"},(0,o.kt)("a",{parentName:"sup",href:"#fn-2",className:"footnote-ref"},"2"))," "),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"pages/index.js")," looks scary, I only edited a couple of lines with the main text, but the funny thing is that the feature list is located in ",(0,o.kt)("inlineCode",{parentName:"p"},"/src/components/index.js"),", so that is the place to edit those boxes. "),(0,o.kt)("p",null,"This ",(0,o.kt)("inlineCode",{parentName:"p"},"how-to-site")," file is in the ",(0,o.kt)("inlineCode",{parentName:"p"},"pages")," folder, which is the place for stand-alone pages. All other stuff is neatly organised in the ",(0,o.kt)("inlineCode",{parentName:"p"},"docs")," folder. The documents in the ",(0,o.kt)("inlineCode",{parentName:"p"},"docs")," folder appear automatically in the left hand side menu, but we have to create explicit links for the ones in the ",(0,o.kt)("inlineCode",{parentName:"p"},"pages")," folder, for example in the ",(0,o.kt)("inlineCode",{parentName:"p"},"docusaurus.config.js")," if we want these to appear in the bottom bar."),(0,o.kt)("div",{className:"footnotes"},(0,o.kt)("hr",{parentName:"div"}),(0,o.kt)("ol",{parentName:"div"},(0,o.kt)("li",{parentName:"ol",id:"fn-1"},"But I have not clue yet what is the difference between npx and npm...",(0,o.kt)("a",{parentName:"li",href:"#fnref-1",className:"footnote-backref"},"\u21a9")),(0,o.kt)("li",{parentName:"ol",id:"fn-2"},"Well, it seems ",(0,o.kt)("inlineCode",{parentName:"li"},"mdx")," is a thing... \ud83e\udd14",(0,o.kt)("a",{parentName:"li",href:"#fnref-2",className:"footnote-backref"},"\u21a9")))))}d.isMDXComponent=!0}}]);