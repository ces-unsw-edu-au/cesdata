"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[894],{5077:(e,o,i)=>{i.r(o),i.d(o,{assets:()=>l,contentTitle:()=>t,default:()=>p,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var s=i(5893),n=i(1151);const r={},t="ISRIC SoilGrids",a={id:"soil/global/isric-soil-grids",title:"ISRIC SoilGrids",description:"SoilGrids \u2014 global gridded soil information",source:"@site/docs/soil/global/isric-soil-grids.md",sourceDirName:"soil/global",slug:"/soil/global/isric-soil-grids",permalink:"/cesdata/docs/soil/global/isric-soil-grids",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"HWSD-v1.2",permalink:"/cesdata/docs/soil/global/HWSD-v1.2"},next:{title:"regional",permalink:"/cesdata/docs/category/regional-6"}},l={},c=[{value:"Citation",id:"citation",level:2},{value:"Data access and preparation",id:"data-access-and-preparation",level:2}];function d(e){const o={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,n.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.h1,{id:"isric-soilgrids",children:"ISRIC SoilGrids"}),"\n",(0,s.jsx)(o.p,{children:"SoilGrids \u2014 global gridded soil information\nA system for digital soil mapping based on global compilation of soil profile data and environmental layers"}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsx)(o.p,{children:"SoilGridsTM (hereafter SoilGrids) is a system for global digital soil mapping that uses state-of-the-art machine learning methods to map the spatial distribution of soil properties across the globe. SoilGrids prediction models are fitted using over 230 000 soil profile observations from the WoSIS database and a series of environmental covariates. Covariates were selected from a pool of over 400 environmental layers from Earth observation derived products and other environmental information including climate, land cover and terrain morphology. The outputs of SoilGrids are global soil property maps at six standard depth intervals (according to the GlobalSoilMap IUSS working group and its specifications) at a spatial resolution of 250 meters. Prediction uncertainty is quantified by the lower and upper limits of a 90% prediction interval. The additional uncertainty layer displayed at soilgrids.org is the ratio between the inter-quantile range and the median. The SoilGrids maps are publicly available under the CC-BY 4.0 License."}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"Maps of the following soil properties are available: pH, soil organic carbon content, bulk density, coarse fragments content, sand content, silt content, clay content, cation exchange capacity (CEC), total nitrogen as well as soil organic carbon density and soil organic carbon stock."}),"\n",(0,s.jsxs)(o.p,{children:[(0,s.jsx)(o.a,{href:"http://www.globalsoilmap.net",children:"www.globalsoilmap.net"}),"\n",(0,s.jsx)(o.a,{href:"https://www.isric.org/projects/globalsoilmapnet",children:"https://www.isric.org/projects/globalsoilmapnet"}),"\n",(0,s.jsx)(o.a,{href:"https://www.isric.org/explore/soilgrids",children:"https://www.isric.org/explore/soilgrids"})]}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.a,{href:"https://git.wur.nl/isric/soilgrids/soilgrids.notebooks/activity",children:"https://git.wur.nl/isric/soilgrids/soilgrids.notebooks/activity"})}),"\n",(0,s.jsx)(o.h2,{id:"citation",children:"Citation"}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsx)(o.p,{children:"Poggio, L., de Sousa, L. M., Batjes, N. H., Heuvelink, G. B. M., Kempen, B., Ribeiro, E., and Rossiter, D.: SoilGrids 2.0: producing soil information for the globe with quantified spatial uncertainty, SOIL, 7, 217\u2013240, 2021. DOI"}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"data-access-and-preparation",children:"Data access and preparation"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-sh",children:'source ~/proyectos/CES/cesdata/env/project-env.sh\nmkdir -p $GISDATA/soil/global/ISRIC-SoilGrids\ncd $GISDATA/soil/global/ISRIC-SoilGrids\n\nmodule add python/3.9.9 perl geos gdal/3.2.1\n\nIGH="+proj=igh +lat_0=0 +lon_0=0 +datum=WGS84 +units=m +no_defs" # proj string for Homolosine projection\nSG_URL="/vsicurl?max_retry=3&retry_delay=1&list_dir=no&url=https://files.isric.org/soilgrids/latest/data"\nCELL_SIZE="250 250"\n\n'})}),"\n",(0,s.jsx)(o.p,{children:"Detailed instructions here:"}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.a,{href:"https://git.wur.nl/isric/soilgrids/soilgrids.notebooks/-/blob/master/markdown/webdav_from_bash.md",children:"https://git.wur.nl/isric/soilgrids/soilgrids.notebooks/-/blob/master/markdown/webdav_from_bash.md"})}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsx)(o.p,{children:"To local VRT in homolosine (directly from the webdav connection)\nThe first step is to obtain a VRT for the area of interest in the Homolosine projection. We suggest to use VRT for the intermediate steps to save space and computation times."}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-{bash}",children:'gdal_translate -of VRT -tr $CELL_SIZE -co "TILED=YES" -co "COMPRESS=DEFLATE" -co "PREDICTOR=2" -co "BIGTIFF=YES" \\\n    $SG_URL"/ocs/ocs_0-30cm_mean.vrt" "ocs_0-5cm_mean.vrt"\n'})}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsx)(o.p,{children:"To a VRT in, for example, LatLong\nThe following command will generate a VRT in the projection of your choice:"}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-{bash}",children:'gdalwarp -overwrite -t_srs EPSG:4326 -of VRT "ocs_0-5cm_mean.vrt" "ocs_0-5cm_mean_4326.vrt"\n'})}),"\n",(0,s.jsxs)(o.blockquote,{children:["\n",(0,s.jsx)(o.p,{children:"To a final Geotiff\nThe following command will generate a Geotiff\xa0in the projection of your choice for the area of interest defined above"}),"\n"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-{bash}",children:'gdal_translate ocs_0-5cm_mean_4326.vrt ocs_0-5cm_mean_4326.tif \\\n    -co "TILED=YES" -co "COMPRESS=DEFLATE" -co "PREDICTOR=2" -co "BIGTIFF=YES"\n'})}),"\n",(0,s.jsx)(o.p,{children:"List of variables: bdod cec cfvo clay nitrogen ocd ocs phh2o sand silt soc wrb # landmask\nDepths: 0-5cm 5-15cm 15-30cm  30-60cm 60-100cm 100-200cm\nstats: mean uncertainty Q0.05 Q0.5 Q0.95"}),"\n",(0,s.jsx)(o.p,{children:"We prepared a PBS script to download and reproject several layers:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-{bash}",children:'source ~/proyectos/CES/cesdata/env/project-env.sh\ncd $WORKDIR\necho "bdod\ncec\ncfvo\nclay\nnitrogen\nocd\nocs\nphh2o\nsand\nsilt\nsoc\nwrb" > $GISDATA/soil/global/ISRIC-SoilGrids/varlist\n\nqsub -l select=1:ncpus=2:mem=60gb,walltime=20:00:00 -J 1-3 $SCRIPTDIR/inc/pbs/download-soilgrids-from-vrt.pbs\nqsub -l select=1:ncpus=2:mem=80gb,walltime=20:00:00 -J 4-7 $SCRIPTDIR/inc/pbs/download-soilgrids-from-vrt.pbs\nqsub -l select=1:ncpus=2:mem=100gb,walltime=20:00:00 -J 8-12 $SCRIPTDIR/inc/pbs/download-soilgrids-from-vrt.pbs\n\n'})}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.a,{href:"https://git.wur.nl/isric/soilgrids/soilgrids.notebooks/-/blob/master/markdown/webdav_from_R.md",children:"https://git.wur.nl/isric/soilgrids/soilgrids.notebooks/-/blob/master/markdown/webdav_from_R.md"})}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-{r}",children:"library(rgdal)\nlibrary(gdalUtils)\nigh='+proj=igh +lat_0=0 +lon_0=0 +datum=WGS84 +units=m +no_defs' # proj string for Homolosine projection\n\nsg_url=\"/vsicurl?max_retry=3&retry_delay=1&list_dir=no&url=https://files.isric.org/soilgrids/latest/data/\"\ngdal_translate(paste0(sg_url,'ocs/ocs_0-30cm_mean.vrt'),\n    \"./crop_roi_igh_r.tif\",\n    verbose=TRUE)\n\n"})})]})}function p(e={}){const{wrapper:o}={...(0,n.a)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},1151:(e,o,i)=>{i.d(o,{Z:()=>a,a:()=>t});var s=i(7294);const n={},r=s.createContext(n);function t(e){const o=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),s.createElement(r.Provider,{value:o},e.children)}}}]);