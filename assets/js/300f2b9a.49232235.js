"use strict";(self.webpackChunkdocusite=self.webpackChunkdocusite||[]).push([[8146],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>d});var r=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t){if(null==e)return{};var a,r,o=function(e,t){if(null==e)return{};var a,r,o={},n=Object.keys(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=r.createContext({}),l=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=l(e.components);return r.createElement(s.Provider,{value:t},e.children)},g="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var a=e.components,o=e.mdxType,n=e.originalType,s=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),g=l(a),m=o,d=g["".concat(s,".").concat(m)]||g[m]||u[m]||n;return a?r.createElement(d,i(i({ref:t},p),{},{components:a})):r.createElement(d,i({ref:t},p))}));function d(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=a.length,i=new Array(n);i[0]=m;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c[g]="string"==typeof e?e:o,i[1]=c;for(var l=2;l<n;l++)i[l]=a[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}m.displayName="MDXCreateElement"},6142:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>n,metadata:()=>c,toc:()=>l});var r=a(7462),o=(a(7294),a(3905));const n={},i="International Vegetation Classification (IVC or EcoVeg)",c={unversionedId:"vegetation/regional/IVC-potential-macrogroups",id:"vegetation/regional/IVC-potential-macrogroups",title:"International Vegetation Classification (IVC or EcoVeg)",description:"https://www.natureserve.org/conservation-tools/projects/international-vegetation-classification",source:"@site/docs/vegetation/regional/IVC-potential-macrogroups.md",sourceDirName:"vegetation/regional",slug:"/vegetation/regional/IVC-potential-macrogroups",permalink:"/cesdata/docs/vegetation/regional/IVC-potential-macrogroups",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Raster Circumpolar Arctic Vegetation Map",permalink:"/cesdata/docs/vegetation/regional/Circumpolar-arctic-vegetation-map"},next:{title:"NSW State Vegetation Type Map",permalink:"/cesdata/docs/vegetation/regional/NewSouthWales-State-Vegetation-Map"}},s={},l=[{value:"Tropical Andes",id:"tropical-andes",level:2},{value:"Africa",id:"africa",level:2},{value:"North America and South America",id:"north-america-and-south-america",level:2}],p={toc:l},g="wrapper";function u(e){let{components:t,...a}=e;return(0,o.kt)(g,(0,r.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"international-vegetation-classification-ivc-or-ecoveg"},"International Vegetation Classification (IVC or EcoVeg)"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.natureserve.org/conservation-tools/projects/international-vegetation-classification"},"https://www.natureserve.org/conservation-tools/projects/international-vegetation-classification")),(0,o.kt)("h2",{id:"tropical-andes"},"Tropical Andes"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://portal.geobon.org/ebv-detail?id=38"},"https://portal.geobon.org/ebv-detail?id=38"),"\n",(0,o.kt)("a",{parentName:"p",href:"https://doi.org/10.25829/c8rz53"},"https://doi.org/10.25829/c8rz53")),(0,o.kt)("h2",{id:"africa"},"Africa"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://www.natureserve.org/conservation-tools/projects/map-potential-distribution-vegetation-macrogroups-africa"},"https://www.natureserve.org/conservation-tools/projects/map-potential-distribution-vegetation-macrogroups-africa"),"\nMap of Potential Distribution of Vegetation Macrogroups of Africa"),(0,o.kt)("p",null,"Download data\n",(0,o.kt)("a",{parentName:"p",href:"https://rmgsc.cr.usgs.gov/outgoing/ecosystems/AfricaData/"},"https://rmgsc.cr.usgs.gov/outgoing/ecosystems/AfricaData/")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"source ~/proyectos/CES/cesdata/env/project-env.sh\n\nmkdir -p $GISDATA/vegetation/regional/IVC-EcoVeg/Africa\ncd $GISDATA/vegetation/regional/IVC-EcoVeg/Africa\n\nwget https://rmgsc.cr.usgs.gov/outgoing/ecosystems/AfricaData/\ngrep HREF index.html > enlaces\nwget -b --continue -i enlaces --force-html --base=https://rmgsc.cr.usgs.gov/\n##wget -b --continue https://rmgsc.cr.usgs.gov/outgoing/ecosystems/AfricaData/af_labeled_ecosys.zip\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"cd $WORKDIR\nunzip $GISDATA/ecosistemas/NatureServe/af_labeled_ecosys.zip\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-r"},"require(readxl)\nrequire(dplyr)\nread_excel('African and Malagasy Veg_Macrogroups_2013.xlsx') %>% select('FORMATION') %>% table\n")),(0,o.kt)("h2",{id:"north-america-and-south-america"},"North America and South America"),(0,o.kt)("p",null,"Data set description in:\n",(0,o.kt)("a",{parentName:"p",href:"http://hub.arcgis.com/datasets/b25fa8f7673749fc85e0ba7980374c5f"},"http://hub.arcgis.com/datasets/b25fa8f7673749fc85e0ba7980374c5f"),"\n",(0,o.kt)("a",{parentName:"p",href:"http://hub.arcgis.com/datasets/Natureserve::southamerica-ivc-macrogroups-potential-natureserve-v1"},"http://hub.arcgis.com/datasets/Natureserve::southamerica-ivc-macrogroups-potential-natureserve-v1")),(0,o.kt)("p",null," The original files of the potential distribution of the Macrogroups in geotiff format were delivered by NatureServe, files were encoded in .lpk format, I extracted them using the 7z extraction command."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"source ~/proyectos/CES/cesdata/env/project-env.sh\n\nmkdir -p $GISDATA/vegetation/regional/IVC-EcoVeg/SAM\nmkdir -p $GISDATA/vegetation/regional/IVC-EcoVeg/NAC\ncd $GISDATA/vegetation/regional/IVC-EcoVeg/\n## scp from local copies of data in terra:\n# scp /opt/gisdata/ecosistemas/Natureserve/IUCN/*/*potential*tif.lpk $zID@kdm.restech.unsw.edu.au:/srv/scratch/cesdata/gisdata/vegetation/regional/IVC-EcoVeg/...\n\ncd $GISDATA/vegetation/regional/IVC-EcoVeg/SAM\n7z x SouthAmerica_IVC_MacroGroups_potential_NatureServe_v7_270m_tif.lpk\n\ncd $GISDATA/vegetation/regional/IVC-EcoVeg/NAC\n7z x NorthAmerica_Caribbean_IVC_MacroGroups_potential_NatureServe_v5_270m_tif.lpk\n\n")),(0,o.kt)("p",null,"The layer package contains different files, raster are located in folder ",(0,o.kt)("inlineCode",{parentName:"p"},"commondata/raster_data/"),". Original projections: files differed in the original projection, the South America file also includes a table with raster attributes"),(0,o.kt)("p",null,"Reprojection: In order to combine both layers in one file with a common projection, I used gdalwarp create option COMPRESS=LZW allows for lossless data compression   I chose the robin projection for the whole continent. output file is IVC_NS_v7_270m_robin.tif"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},"qsub -I -l select=1:ncpus=1:mem=120gb,walltime=12:00:00\n\nsource ~/proyectos/CES/cesdata/env/project-env.sh\n\n\nmodule add python/3.8.3 perl/5.28.0 gdal/3.2.1 geos/3.8.1\n\ngdalinfo $GISDATA/vegetation/regional/IVC-EcoVeg/NAC/commondata/raster_data/NorthAmerica_Caribbean_IVC_MacroGroups_potential_NatureServe_v5_270m.tif\n\ngdalinfo $GISDATA/vegetation/regional/IVC-EcoVeg/SAM/commondata/raster_data/SouthAmerica_IVC_MacroGroups_potential_NatureServe_v7_270m.tif | less\n\ncd $GISDATA/vegetation/regional/IVC-EcoVeg/Americas\ngdalwarp -co \"COMPRESS=LZW\" -t_srs '+proj=robin +lon_0=-80 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs +ellps=WGS84 +towgs84=0,0,0' $GISDATA/vegetation/regional/IVC-EcoVeg/NAC/commondata/raster_data/NorthAmerica_Caribbean_IVC_MacroGroups_potential_NatureServe_v5_270m.tif $GISDATA/vegetation/regional/IVC-EcoVeg/SAM/commondata/raster_data/SouthAmerica_IVC_MacroGroups_potential_NatureServe_v7_270m.tif $GISDATA/vegetation/regional/IVC-EcoVeg/Americas/IVC_NS_v7_270m_robin.tif\n\n\n## generate shapefile version...\n##gdal_polygonize.py IVC_NS_v7_270m_robin.tif IVC_NS_v7_270m_robin_polygons.shp\n")))}u.isMDXComponent=!0}}]);